
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Passport Photo Sheet Generator ‚Äì US Style 2√ó2 Photos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Basic SEO -->
  <meta name="description" content="Free passport photo sheet generator to create a 6√ó4 inch sheet with six 2√ó2 US-style passport photos. Align, zoom, adjust, and export as PNG for printing." />
  <meta name="keywords" content="passport photo generator, US passport photo, 2x2 photo, 6x4 photo sheet, print passport photo at home, passport photo maker" />
  <meta name="author" content="helpingfriend" />

  <!-- Open Graph -->
  <meta property="og:title" content="Passport Photo Sheet Generator ‚Äì US Style 2√ó2 Photos" />
  <meta property="og:description" content="Upload, align, and generate a printable 6√ó4 sheet with six 2√ó2 passport photos. Simple browser-based tool with optional background clean-up." />
  <meta property="og:type" content="website" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Passport Photo Sheet Generator ‚Äì US Style 2√ó2 Photos" />
  <meta name="twitter:description" content="Create a printable 6√ó4 sheet of six 2√ó2 US-style passport photos directly in your browser." />

  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      color-scheme: light dark;
      --bg-page: #f3f4f6;
      --bg-card: #ffffff;
      --bg-panel: #f9fafb;
      --border-subtle: #e5e7eb;
      --text-main: #111827;
      --text-muted: #6b7280;
      --accent: #2563eb;
      --badge-bg: #e0f2fe;
      --badge-text: #0369a1;
      --danger-bg: #fff7ed;
      --danger-border: #fed7aa;
      --danger-text: #7c2d12;
    }

    body.dark {
      --bg-page: #020617;
      --bg-card: #020617;
      --bg-panel: #020617;
      --border-subtle: #1f2937;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --accent: #3b82f6;
      --badge-bg: rgba(59,130,246,0.15);
      --badge-text: #bfdbfe;
      --danger-bg: #451a03;
      --danger-border: #9a3412;
      --danger-text: #fed7aa;
    }

    body {
      margin: 0;
      padding: 1rem;
      display: flex;
      justify-content: center;
      background: var(--bg-page);
      color: var(--text-main);
    }

    .app {
      background: var(--bg-card);
      width: 100%;
      max-width: 960px;
      padding: 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 10px 30px rgba(15,23,42,0.25);
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
      padding-bottom: 1.25rem;
      border-bottom: 1px solid var(--border-subtle);
      margin-bottom: 1.25rem;
    }

    .header-main {
      flex: 1;
    }

    .header h1 {
      font-size: 1.75rem;
      font-weight: 700;
      margin: 0;
      color: var(--text-main);
    }

    .header p {
      color: var(--text-muted);
      font-size: 0.9rem;
      margin: 0.5rem 0 0 0;
    }

    .header-actions {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 0.5rem;
    }

    .toggle-btn {
      border-radius: 999px;
      padding: 0.35rem 0.9rem;
      border: 1px solid var(--border-subtle);
      background: transparent;
      color: var(--text-main);
      cursor: pointer;
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }

    .toggle-btn span.icon {
      font-size: 0.9rem;
    }

    .grid {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 1.5rem;
    }

    @media (max-width: 800px) {
      .grid {
        grid-template-columns: 1fr;
      }
      .header {
        flex-direction: column;
        align-items: flex-start;
      }
      .header-actions {
        align-items: flex-start;
      }
    }

    .panel {
      border: 1px solid var(--border-subtle);
      padding: 1rem;
      border-radius: 0.75rem;
      background: var(--bg-panel);
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .panel-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .badge {
      background: var(--badge-bg);
      color: var(--badge-text);
      padding: 0.15rem 0.5rem;
      border-radius: 999px;
      font-size: 0.75rem;
    }

    .hint {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    #previewCanvas {
      border: 2px dashed var(--border-subtle);
      background: #ffffff;
      border-radius: 0.5rem;
      cursor: grab;
      touch-action: none;
    }

    #previewCanvas.dragging {
      cursor: grabbing;
    }

    #sheetCanvas {
      border: 1px solid var(--border-subtle);
      border-radius: 0.5rem;
      max-width: 100%;
      background: #f3f4f6;
    }

    .btn-row {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-top: 0.75rem;
    }

    .btn {
      border-radius: 999px;
      padding: 0.5rem 1rem;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }

    .btn-primary {
      background: var(--accent);
      color: #f9fafb;
    }

    .btn-secondary {
      background: transparent;
      color: var(--text-main);
      border: 1px solid var(--border-subtle);
    }

    .btn:disabled {
      background: #9ca3af;
      color: #e5e7eb;
      border-color: #9ca3af;
      cursor: not-allowed;
    }

    .zoom-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.85rem;
      margin-top: 0.5rem;
    }

    .zoom-row span {
      white-space: nowrap;
      color: var(--text-muted);
    }

    .zoom-row input[type="range"] {
      flex: 1;
      width: 100%;
      accent-color: var(--accent);
    }

    .donate {
      margin-top: 1.25rem;
      text-align: right;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .donate a {
      color: var(--accent);
      text-decoration: none;
    }

    .donate a:hover {
      text-decoration: underline;
    }

    .disclaimer {
      margin-top: 1.5rem;
      padding: 1rem;
      background: var(--danger-bg);
      border: 1px solid var(--danger-border);
      border-radius: 0.75rem;
      color: var(--danger-text);
      font-size: 0.8rem;
      line-height: 1.45;
    }
  </style>
</head>
<body>
<div class="app">

  <!-- HEADER -->
  <div class="header">
    <div class="header-main">
      <h1>Passport Photo Sheet Generator</h1>
      <p>
        Create a printable 6√ó4 sheet of six US-style 2√ó2 passport photos directly in your browser.
        Your photo stays safely on your device &mdash; it is not sent to any server, stored online,
        or used for any other purpose.
      </p>
    </div>
    <div class="header-actions">
      <button id="themeToggle" class="toggle-btn" type="button">
        <span class="icon" id="themeIcon">üåô</span>
        <span id="themeLabel">Dark mode</span>
      </button>
      <small style="font-size:0.75rem; color:var(--text-muted);">
        Your photo will not be transferred to any server or saved anywhere online.
      </small>
    </div>
  </div>

  <div class="grid">
    <!-- LEFT: EDITOR -->
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">1. Upload & Align</div>
        <div class="badge">Editor</div>
      </div>

      <input id="fileInput" type="file" accept="image/*" />

      <p class="hint" style="margin-top:0.75rem;"><strong>Recommendation:</strong> Use a high‚Äëresolution photo with a plain white background for best results.<br><br>
        Zoom & drag the image. Align the <strong>top of your forehead</strong> with the upper thin bar,
        the <strong>bottom of your chin</strong> with the lower thin bar, and place the center of your face on the big plus.
      </p>

      <div style="margin-top:0.75rem;">
        <label style="font-size:0.85rem;">
          <input type="checkbox" id="bgToggle" />
          Clean background to white (simple color-based cleanup)
        </label>
      </div>

      <div class="zoom-row">
        <span>Zoom:</span>
        <input id="zoomRange" type="range" min="1" max="3" step="0.02" value="1" disabled />
      </div>

      <div style="margin-top:0.75rem; display:flex; justify-content:center;">
        <canvas id="previewCanvas" width="600" height="600"></canvas>
      </div>

      <div class="btn-row" style="margin-top:0.75rem;">
        <button id="resetBtn" class="btn btn-secondary" type="button" disabled>‚ü≥ Reset / Auto-fit</button>
      </div>
    </div>

    <!-- RIGHT: SHEET -->
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">2. Generate 6√ó4 Sheet</div>
        <div class="badge">Output</div>
      </div>

      <p class="hint">
        Generates a 6√ó4 inch sheet at 300 DPI (1800√ó1200 px) with six 2√ó2 inch photos and thin black cutting borders.
        Alignment guides are only for preview and are not included in the final sheet.
      </p>

      <div class="btn-row">
        <button id="generateBtn" class="btn btn-primary" type="button" disabled>üìÑ Generate Sheet</button>
        <button id="downloadBtn" class="btn btn-secondary" type="button" disabled>‚¨áÔ∏è Download PNG</button>
      </div>

      <canvas id="sheetCanvas" width="1800" height="1200" style="margin-top:0.75rem;"></canvas>
    </div>
  </div>

  <div class="donate">
    If this tool helps you, consider <a href="https://www.buymeacoffee.com/helpingfriend" target="_blank" rel="noopener noreferrer">supporting the creator</a>.
  </div>

  <div class="disclaimer">
    <strong>Disclaimer:</strong> This tool is a personal utility created with the best effort to approximate
    U.S. passport photo guidelines, but there is <strong>no guarantee of accuracy, compliance, or acceptance</strong>
    by any government agency. Use this tool entirely at your own risk. For official purposes, it is strongly recommended
    to have your passport photo taken by a professional photographer or an authorized passport photo service.
    The creator makes <strong>no claims, recommendations, warranties, or assurances</strong> regarding fitness for
    any official or legal use.
  </div>

</div>

<script>
// Heavily packed / encoded script to make direct reuse harder.
// Note: Any code running in the browser can ultimately be copied with enough effort.
(function() {
  var _b64 = "CmNvbnN0IFcgPSA2MDAsIEggPSA2MDA7CmNvbnN0IFNIRUVUX1cgPSAxODAwLCBTSEVFVF9IID0gMTIwMDsKY29uc3QgVElMRSA9IDYwMDsKCi8vIE9mZnNjcmVlbiBiYXNlIGNhbnZhcyBXSVRIT1VUIG1hcmtlcnMgKHVzZWQgZm9yIHNoZWV0IGV4cG9ydCkKY29uc3QgYmFzZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwpiYXNlQ2FudmFzLndpZHRoID0gVzsKYmFzZUNhbnZhcy5oZWlnaHQgPSBIOwpjb25zdCBiY3R4ID0gYmFzZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwoKbGV0IGltZyA9IG5ldyBJbWFnZSgpOwpsZXQgbG9hZGVkID0gZmFsc2UsIHNjYWxlID0gMSwgb2ZmWCA9IDAsIG9mZlkgPSAwOwpsZXQgZHJhZ2dpbmcgPSBmYWxzZSwgbGFzdFggPSAwLCBsYXN0WSA9IDA7CmxldCBjbGVhbkJHID0gZmFsc2UsIGJnQ29sb3IgPSBudWxsOyAvLyBjaGVja2JveCBzdGFydHMgdW5jaGVja2VkCmxldCBsYXN0U2hlZXREYXRhVXJsID0gbnVsbDsKCmNvbnN0IEJHX1RPTEVSID0gODA7Cgpjb25zdCBmaWxlSW5wdXQgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVJbnB1dCcpOwpjb25zdCBwcmV2aWV3Q2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXdDYW52YXMnKTsKY29uc3QgcGN0eCAgICAgICAgICA9IHByZXZpZXdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKY29uc3Qgem9vbVJhbmdlICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tUmFuZ2UnKTsKY29uc3QgYmdUb2dnbGUgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ1RvZ2dsZScpOwpjb25zdCBnZW5lcmF0ZUJ0biAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dlbmVyYXRlQnRuJyk7CmNvbnN0IGRvd25sb2FkQnRuICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRCdG4nKTsKY29uc3QgcmVzZXRCdG4gICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldEJ0bicpOwpjb25zdCBzaGVldENhbnZhcyAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoZWV0Q2FudmFzJyk7CmNvbnN0IHNjdHggICAgICAgICAgPSBzaGVldENhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwpjb25zdCB0aGVtZVRvZ2dsZSAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lVG9nZ2xlJyk7CmNvbnN0IHRoZW1lSWNvbiAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWVJY29uJyk7CmNvbnN0IHRoZW1lTGFiZWwgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWVMYWJlbCcpOwoKLy8gLS0tIFRoZW1lIC8gZGFyay1tb2RlIHRvZ2dsZSAtLS0KZnVuY3Rpb24gYXBwbHlUaGVtZUZyb21TdG9yYWdlKCkgewogIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bwcy10aGVtZScpOwogIGlmIChzYXZlZCA9PT0gJ2RhcmsnKSB7CiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2RhcmsnKTsKICAgIHRoZW1lSWNvbi50ZXh0Q29udGVudCA9ICfimIDvuI8nOwogICAgdGhlbWVMYWJlbC50ZXh0Q29udGVudCA9ICdMaWdodCBtb2RlJzsKICB9IGVsc2UgewogICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7CiAgICB0aGVtZUljb24udGV4dENvbnRlbnQgPSAn8J+MmSc7CiAgICB0aGVtZUxhYmVsLnRleHRDb250ZW50ID0gJ0RhcmsgbW9kZSc7CiAgfQp9Cgp0aGVtZVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICBjb25zdCBpc0RhcmsgPSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2RhcmsnKTsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHBzLXRoZW1lJywgaXNEYXJrID8gJ2RhcmsnIDogJ2xpZ2h0Jyk7CiAgYXBwbHlUaGVtZUZyb21TdG9yYWdlKCk7Cn0pOwoKYXBwbHlUaGVtZUZyb21TdG9yYWdlKCk7CgovLyBCYWNrZ3JvdW5kIHRvZ2dsZQpiZ1RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7CiAgY2xlYW5CRyA9IGJnVG9nZ2xlLmNoZWNrZWQ7CiAgYmdDb2xvciA9IG51bGw7CiAgZHJhdyh0cnVlKTsKfSk7CgovLyBGaWxlIHVwbG9hZApmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7CiAgY29uc3QgZiA9IGUudGFyZ2V0LmZpbGVzWzBdOwogIGlmICghZikgcmV0dXJuOwogIGNvbnN0IHIgPSBuZXcgRmlsZVJlYWRlcigpOwogIHIub25sb2FkID0gZXYgPT4gewogICAgaW1nID0gbmV3IEltYWdlKCk7CiAgICBpbWcub25sb2FkID0gKCkgPT4gewogICAgICBsb2FkZWQgPSB0cnVlOwogICAgICBhdXRvRml0SW1hZ2UoKTsKICAgICAgYmdDb2xvciA9IG51bGw7CiAgICAgIGdlbmVyYXRlQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIHJlc2V0QnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIGRyYXcodHJ1ZSk7CiAgICB9OwogICAgaW1nLnNyYyA9IGV2LnRhcmdldC5yZXN1bHQ7CiAgfTsKICByLnJlYWRBc0RhdGFVUkwoZik7Cn0pOwoKLy8gQXV0by1maXQgLyByZXNldCBhbGlnbm1lbnQKZnVuY3Rpb24gYXV0b0ZpdEltYWdlKCkgewogIGlmICghbG9hZGVkKSByZXR1cm47CiAgY29uc3Qgc3ggPSBXIC8gaW1nLndpZHRoOwogIGNvbnN0IHN5ID0gSCAvIGltZy5oZWlnaHQ7CiAgc2NhbGUgPSBNYXRoLm1heChzeCwgc3kpOwogIHpvb21SYW5nZS52YWx1ZSA9IHNjYWxlOwogIHpvb21SYW5nZS5kaXNhYmxlZCA9IGZhbHNlOwogIGNvbnN0IGl3ID0gaW1nLndpZHRoICogc2NhbGU7CiAgY29uc3QgaWggPSBpbWcuaGVpZ2h0ICogc2NhbGU7CiAgb2ZmWCA9IChXIC0gaXcpIC8gMjsKICBvZmZZID0gKEggLSBpaCkgLyAyOwp9CgovLyBab29tIGNvbnRyb2wKem9vbVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gewogIGlmICghbG9hZGVkKSByZXR1cm47CiAgY29uc3QgbnMgPSBwYXJzZUZsb2F0KHpvb21SYW5nZS52YWx1ZSk7CiAgY29uc3QgY3ggPSBXIC8gMjsKICBjb25zdCBjeSA9IEggLyAyOwogIGNvbnN0IHB4ID0gKGN4IC0gb2ZmWCkgLyBzY2FsZTsKICBjb25zdCBweSA9IChjeSAtIG9mZlkpIC8gc2NhbGU7CiAgc2NhbGUgPSBuczsKICBvZmZYID0gY3ggLSBweCAqIHNjYWxlOwogIG9mZlkgPSBjeSAtIHB5ICogc2NhbGU7CiAgZHJhdygpOwp9KTsKCi8vIERyYWcgdG8gcmVwb3NpdGlvbgpwcmV2aWV3Q2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4gewogIGlmICghbG9hZGVkKSByZXR1cm47CiAgZHJhZ2dpbmcgPSB0cnVlOwogIGxhc3RYID0gZS5vZmZzZXRYOwogIGxhc3RZID0gZS5vZmZzZXRZOwogIHByZXZpZXdDYW52YXMuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTsKfSk7CgpwcmV2aWV3Q2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGUgPT4gewogIGlmICghZHJhZ2dpbmcpIHJldHVybjsKICBvZmZYICs9IGUub2Zmc2V0WCAtIGxhc3RYOwogIG9mZlkgKz0gZS5vZmZzZXRZIC0gbGFzdFk7CiAgbGFzdFggPSBlLm9mZnNldFg7CiAgbGFzdFkgPSBlLm9mZnNldFk7CiAgZHJhdygpOwp9KTsKCnByZXZpZXdDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHsKICBkcmFnZ2luZyA9IGZhbHNlOwogIHByZXZpZXdDYW52YXMuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2dpbmcnKTsKfSk7CgpwcmV2aWV3Q2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7CiAgZHJhZ2dpbmcgPSBmYWxzZTsKICBwcmV2aWV3Q2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7Cn0pOwoKLy8gUmVzZXQgLyBhdXRvLWZpdCBidXR0b24KcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgaWYgKCFsb2FkZWQpIHJldHVybjsKICBhdXRvRml0SW1hZ2UoKTsKICBkcmF3KHRydWUpOwp9KTsKCi8vIENvcmUgZHJhdzogcmVuZGVyIGludG8gYmFzZUNhbnZhcyAoZmFjZSArIG9wdGlvbmFsIEJHIGNsZWFuKSwgdGhlbiBjb3B5IHRvIHByZXZpZXcgYW5kIGRyYXcgZ3VpZGVzCmZ1bmN0aW9uIGRyYXcocmVjYWxjQkcgPSBmYWxzZSkgewogIC8vIDEuIERyYXcgaW50byBiYXNlIGNhbnZhcyAod2hhdCB3aWxsIGJlIGV4cG9ydGVkKQogIGJjdHguY2xlYXJSZWN0KDAsIDAsIFcsIEgpOwogIGJjdHguZmlsbFN0eWxlID0gJyNmZmZmZmYnOwogIGJjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CgogIGlmIChsb2FkZWQpIHsKICAgIGxldCBpdyA9IGltZy53aWR0aCAqIHNjYWxlOwogICAgbGV0IGloID0gaW1nLmhlaWdodCAqIHNjYWxlOwoKICAgIGlmIChpdyA8PSBXKSBvZmZYID0gKFcgLSBpdykgLyAyOwogICAgZWxzZSBvZmZYID0gTWF0aC5taW4oMCwgTWF0aC5tYXgob2ZmWCwgVyAtIGl3KSk7CgogICAgaWYgKGloIDw9IEgpIG9mZlkgPSAoSCAtIGloKSAvIDI7CiAgICBlbHNlIG9mZlkgPSBNYXRoLm1pbigwLCBNYXRoLm1heChvZmZZLCBIIC0gaWgpKTsKCiAgICBiY3R4LmRyYXdJbWFnZShpbWcsIG9mZlgsIG9mZlksIGl3LCBpaCk7CgogICAgaWYgKGNsZWFuQkcpIHsKICAgICAgaWYgKHJlY2FsY0JHIHx8ICFiZ0NvbG9yKSBlc3RpbWF0ZUJHKCk7CiAgICAgIHdoaXRlbkJHKCk7CiAgICB9CiAgfQoKICAvLyAyLiBDb3B5IGJhc2UgY2FudmFzIHRvIHByZXZpZXcsIHRoZW4gb3ZlcmxheSBndWlkZXMgKHJlY3RhbmdsZXMgKyBjZW50ZXIgcGx1cykKICBwY3R4LmNsZWFyUmVjdCgwLCAwLCBXLCBIKTsKICBwY3R4LmRyYXdJbWFnZShiYXNlQ2FudmFzLCAwLCAwKTsKICBkcmF3R3VpZGVzKCk7Cn0KCi8vIEVzdGltYXRlIGJhY2tncm91bmQgY29sb3IgZnJvbSB0b3AgYmFuZCBvZiBCQVNFIGNhbnZhcwpmdW5jdGlvbiBlc3RpbWF0ZUJHKCkgewogIGNvbnN0IGlkID0gYmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgVywgSCk7CiAgY29uc3QgZCA9IGlkLmRhdGE7CiAgY29uc3QgdG9wID0gSCAqIDAuMjsKICBsZXQgcnMgPSAwLCBncyA9IDAsIGJzID0gMCwgYyA9IDA7CiAgZm9yIChsZXQgeSA9IDA7IHkgPCB0b3A7IHkrKykgewogICAgZm9yIChsZXQgeCA9IDA7IHggPCBXOyB4KyspIHsKICAgICAgY29uc3QgaSA9ICh5ICogVyArIHgpICogNDsKICAgICAgY29uc3QgciA9IGRbaV0sIGcgPSBkW2kgKyAxXSwgYiA9IGRbaSArIDJdOwogICAgICBpZiAoKHIgKyBnICsgYikgLyAzIDwgMTIwKSBjb250aW51ZTsKICAgICAgcnMgKz0gcjsgZ3MgKz0gZzsgYnMgKz0gYjsgYysrOwogICAgfQogIH0KICBpZiAoYyA+IDApIGJnQ29sb3IgPSB7IHI6IHJzIC8gYywgZzogZ3MgLyBjLCBiOiBicyAvIGMgfTsKICBlbHNlIGJnQ29sb3IgPSBudWxsOwp9CgovLyBXaGl0ZW4gYmFja2dyb3VuZCBvbiBCQVNFIGNhbnZhcyBvbmx5CmZ1bmN0aW9uIHdoaXRlbkJHKCkgewogIGlmICghYmdDb2xvcikgcmV0dXJuOwogIGNvbnN0IGlkID0gYmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgVywgSCk7CiAgY29uc3QgZCA9IGlkLmRhdGE7CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSArPSA0KSB7CiAgICBjb25zdCByID0gZFtpXSwgZyA9IGRbaSArIDFdLCBiID0gZFtpICsgMl07CiAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMociAtIGJnQ29sb3IucikgKyBNYXRoLmFicyhnIC0gYmdDb2xvci5nKSArIE1hdGguYWJzKGIgLSBiZ0NvbG9yLmIpOwogICAgaWYgKGRpZmYgPCBCR19UT0xFUikgewogICAgICBkW2ldID0gZFtpICsgMV0gPSBkW2kgKyAyXSA9IDI1NTsKICAgIH0KICB9CiAgYmN0eC5wdXRJbWFnZURhdGEoaWQsIDAsIDApOwp9CgovLyBEcmF3IGZvcmVoZWFkIGFuZCBjaGluIHJlY3RhbmdsZXMgKHRoaW5uZXIpICsgYmlnIGNlbnRlciBwbHVzIG9uIHByZXZpZXcgb25seQpmdW5jdGlvbiBkcmF3R3VpZGVzKCkgewogIGNvbnN0IGN4ID0gVyAvIDI7CiAgY29uc3QgY3kgPSBIIC8gMjsKCiAgLy8gVGhpbm5lciByZWN0YW5nbGVzCiAgY29uc3QgYm94V2lkdGggPSAyNjA7CiAgY29uc3QgYm94SGVpZ2h0ID0gMjI7CgogIGNvbnN0IGZvcmVoZWFkVG9wID0gY3kgLSAyMjA7CiAgY29uc3QgZm9yZWhlYWRMZWZ0ID0gY3ggLSBib3hXaWR0aCAvIDI7CgogIGNvbnN0IGNoaW5Ub3AgPSBjeSArIDEzMDsKICBjb25zdCBjaGluTGVmdCA9IGZvcmVoZWFkTGVmdDsKCiAgcGN0eC5zYXZlKCk7CiAgcGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDM3LDk5LDIzNSwwLjk1KSc7CiAgcGN0eC5saW5lV2lkdGggPSAyOwogIHBjdHguc2V0TGluZURhc2goWzYsIDRdKTsKCiAgLy8gRm9yZWhlYWQgcmVjdGFuZ2xlICh0aGluIHN0cmlwKQogIHBjdHguc3Ryb2tlUmVjdChmb3JlaGVhZExlZnQsIGZvcmVoZWFkVG9wLCBib3hXaWR0aCwgYm94SGVpZ2h0KTsKCiAgLy8gQ2hpbiByZWN0YW5nbGUgKHRoaW4gc3RyaXApCiAgcGN0eC5zdHJva2VSZWN0KGNoaW5MZWZ0LCBjaGluVG9wLCBib3hXaWR0aCwgYm94SGVpZ2h0KTsKCiAgcGN0eC5zZXRMaW5lRGFzaChbXSk7CgogIC8vIExhYmVscyAodXBkYXRlZCB3b3JkaW5nKQogIHBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMzcsOTksMjM1LDAuOTUpJzsKICBwY3R4LmZvbnQgPSAiMTFweCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgc2Fucy1zZXJpZiI7CiAgcGN0eC5maWxsVGV4dCgiQWxpZ24gdG9wIG9mIGZvcmVoZWFkIiwgZm9yZWhlYWRMZWZ0ICsgNCwgZm9yZWhlYWRUb3AgLSA2KTsKICBwY3R4LmZpbGxUZXh0KCJBbGlnbiBib3R0b20gb2YgeW91ciBjaGluIiwgY2hpbkxlZnQgKyA0LCBjaGluVG9wICsgYm94SGVpZ2h0ICsgMTQpOwoKICAvLyBCaWcgY2VudGVyIHBsdXMgKCspCiAgY29uc3QgcGx1c1NpemUgPSAzMDsKICBwY3R4LmxpbmVXaWR0aCA9IDI7CiAgcGN0eC5iZWdpblBhdGgoKTsKICBwY3R4Lm1vdmVUbyhjeCAtIHBsdXNTaXplLCBjeSk7CiAgcGN0eC5saW5lVG8oY3ggKyBwbHVzU2l6ZSwgY3kpOwogIHBjdHgubW92ZVRvKGN4LCBjeSAtIHBsdXNTaXplKTsKICBwY3R4LmxpbmVUbyhjeCwgY3kgKyBwbHVzU2l6ZSk7CiAgcGN0eC5zdHJva2UoKTsKCiAgcGN0eC5yZXN0b3JlKCk7Cn0KCi8vIEdlbmVyYXRlIDbDlzQgc2hlZXQKZ2VuZXJhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgaWYgKCFsb2FkZWQpIHJldHVybjsKICBkcmF3KCk7CgogIHNjdHguZmlsbFN0eWxlID0gJyNmZmZmZmYnOwogIHNjdHguZmlsbFJlY3QoMCwgMCwgU0hFRVRfVywgU0hFRVRfSCk7CgogIGZvciAobGV0IHIgPSAwOyByIDwgMjsgcisrKSB7CiAgICBmb3IgKGxldCBjID0gMDsgYyA8IDM7IGMrKykgewogICAgICBjb25zdCB4ID0gYyAqIFRJTEU7CiAgICAgIGNvbnN0IHkgPSByICogVElMRTsKICAgICAgLy8gZHJhdyBmcm9tIGJhc2VDYW52YXMgKE5PIEdVSURFUyksIG5vdCBwcmV2aWV3Q2FudmFzCiAgICAgIHNjdHguZHJhd0ltYWdlKGJhc2VDYW52YXMsIDAsIDAsIFRJTEUsIFRJTEUsIHgsIHksIFRJTEUsIFRJTEUpOwogICAgICBzY3R4LnN0cm9rZVN0eWxlID0gJyMwMDAwMDAnOwogICAgICBzY3R4LmxpbmVXaWR0aCA9IDE7CiAgICAgIHNjdHguc3Ryb2tlUmVjdCh4ICsgMC41LCB5ICsgMC41LCBUSUxFIC0gMSwgVElMRSAtIDEpOwogICAgfQogIH0KCiAgbGFzdFNoZWV0RGF0YVVybCA9IHNoZWV0Q2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7CiAgZG93bmxvYWRCdG4uZGlzYWJsZWQgPSBmYWxzZTsKfSk7CgovLyBEb3dubG9hZCBQTkcKZG93bmxvYWRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgaWYgKCFsYXN0U2hlZXREYXRhVXJsKSByZXR1cm47CiAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICBhLmhyZWYgPSBsYXN0U2hlZXREYXRhVXJsOwogIGEuZG93bmxvYWQgPSAncGFzc3BvcnRfc2hlZXQucG5nJzsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogIGEuY2xpY2soKTsKICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpOwp9KTsKCi8vIEluaXRpYWwgYmxhbmsgcmVuZGVyIChqdXN0IGd1aWRlcyBvbiB3aGl0ZSkKZHJhdygpOwo=";
  try {
    var decoded = atob(_b64);
    (0, eval)(decoded);
  } catch (e) {
    console.error("Script failed to load.", e);
  }
})();
</script>

</body>
</html>
