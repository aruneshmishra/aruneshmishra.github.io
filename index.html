
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Passport Photo Sheet Generator ‚Äì Free 2√ó2 US Passport Photos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Basic SEO -->
  <meta name="description" content="Free passport photo sheet generator to create a 6√ó4 inch sheet with six 2√ó2 US-style passport photos. Upload, align, and download a printable PNG. Your photo never leaves your device." />
  <meta name="keywords" content="passport photo generator, US passport photo, 2x2 photo, 6x4 photo sheet, print passport photo at home, passport photo maker, free passport photo tool" />
  <meta name="author" content="Arunesh Mishra" />

  <!-- Open Graph -->
  <meta property="og:title" content="Passport Photo Sheet Generator ‚Äì Free 2√ó2 US Passport Photos" />
  <meta property="og:description" content="Create a 6√ó4 sheet with six 2√ó2 US-style passport photos directly in your browser. No upload, no tracking, free to use." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://aruneshmishra.github.io" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Passport Photo Sheet Generator ‚Äì Free 2√ó2 US Passport Photos" />
  <meta name="twitter:description" content="Generate and print US-style passport photos at home on a 6√ó4 sheet. Your photo stays on your device." />

  <!-- Minimal JSON-LD WebApplication schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Passport Photo Sheet Generator",
    "url": "https://aruneshmishra.github.io",
    "applicationCategory": "PhotoEditingApplication",
    "operatingSystem": "All",
    "description": "Generate a 6√ó4 sheet with six 2√ó2 US-style passport photos directly in your browser. No upload or server storage.",
    "creator": {
      "@type": "Person",
      "name": "Arunesh Mishra"
    }
  }
  </script>

  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      color-scheme: light dark;
      --bg-page: #f3f4f6;
      --bg-card: #ffffff;
      --bg-panel: #f9fafb;
      --border-subtle: #e5e7eb;
      --text-main: #111827;
      --text-muted: #6b7280;
      --accent: #2563eb;
      --badge-bg: #e0f2fe;
      --badge-text: #0369a1;
      --danger-bg: #fff7ed;
      --danger-border: #fed7aa;
      --danger-text: #7c2d12;
    }

    body.dark {
      --bg-page: #020617;
      --bg-card: #020617;
      --bg-panel: #020617;
      --border-subtle: #1f2937;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --accent: #3b82f6;
      --badge-bg: rgba(59,130,246,0.15);
      --badge-text: #bfdbfe;
      --danger-bg: #451a03;
      --danger-border: #9a3412;
      --danger-text: #fed7aa;
    }

    body {
      margin: 0;
      padding: 1rem;
      display: flex;
      justify-content: center;
      background: var(--bg-page);
      color: var(--text-main);
    }

    .app {
      background: var(--bg-card);
      width: 100%;
      max-width: 960px;
      padding: 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 10px 30px rgba(15,23,42,0.25);
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
      padding-bottom: 1.25rem;
      border-bottom: 1px solid var(--border-subtle);
      margin-bottom: 1.25rem;
    }

    .header-main {
      flex: 1;
    }

    .header h1 {
      font-size: 1.75rem;
      font-weight: 700;
      margin: 0;
      color: var(--text-main);
    }

    .header p {
      color: var(--text-muted);
      font-size: 0.9rem;
      margin: 0.5rem 0 0 0;
    }

    .header-actions {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 0.5rem;
    }

    .toggle-btn {
      border-radius: 999px;
      padding: 0.35rem 0.9rem;
      border: 1px solid var(--border-subtle);
      background: transparent;
      color: var(--text-main);
      cursor: pointer;
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }

    .toggle-btn span.icon {
      font-size: 0.9rem;
    }

    .grid {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 1.5rem;
    }

    @media (max-width: 800px) {
      .grid {
        grid-template-columns: 1fr;
      }
      .header {
        flex-direction: column;
        align-items: flex-start;
      }
      .header-actions {
        align-items: flex-start;
      }
    }

    .panel {
      border: 1px solid var(--border-subtle);
      padding: 1rem;
      border-radius: 0.75rem;
      background: var(--bg-panel);
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .panel-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .badge {
      background: var(--badge-bg);
      color: var(--badge-text);
      padding: 0.15rem 0.5rem;
      border-radius: 999px;
      font-size: 0.75rem;
    }

    .hint {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    #previewCanvas {
      border: 2px dashed var(--border-subtle);
      background: #ffffff;
      border-radius: 0.5rem;
      cursor: grab;
      touch-action: none;
    }

    #previewCanvas.dragging {
      cursor: grabbing;
    }

    #sheetCanvas {
      border: 1px solid var(--border-subtle);
      border-radius: 0.5rem;
      max-width: 100%;
      background: #f3f4f6;
    }

    .btn-row {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-top: 0.75rem;
    }

    .btn {
      border-radius: 999px;
      padding: 0.5rem 1rem;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }

    .btn-primary {
      background: var(--accent);
      color: #f9fafb;
    }

    .btn-secondary {
      background: transparent;
      color: var(--text-main);
      border: 1px solid var(--border-subtle);
    }

    .btn:disabled {
      background: #9ca3af;
      color: #e5e7eb;
      border-color: #9ca3af;
      cursor: not-allowed;
    }

    .zoom-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.85rem;
      margin-top: 0.5rem;
    }

    .zoom-row span {
      white-space: nowrap;
      color: var(--text-muted);
    }

    .zoom-row input[type="range"] {
      flex: 1;
      width: 100%;
      accent-color: var(--accent);
    }

    .howto {
      margin-top: 1.5rem;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .howto h2 {
      font-size: 0.95rem;
      margin: 0 0 0.25rem 0;
      color: var(--text-main);
    }

    .howto ol {
      margin: 0.25rem 0 0.75rem 1.1rem;
      padding: 0;
    }

    .howto li {
      margin-bottom: 0.25rem;
    }

    .donate {
      margin-top: 1.25rem;
      text-align: right;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .donate a {
      color: var(--accent);
      text-decoration: none;
    }

    .donate a:hover {
      text-decoration: underline;
    }

    .disclaimer {
      margin-top: 1.5rem;
      padding: 1rem;
      background: var(--danger-bg);
      border: 1px solid var(--danger-border);
      border-radius: 0.75rem;
      color: var(--danger-text);
      font-size: 0.8rem;
      line-height: 1.45;
    }
  
    .step-guide {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0.5rem;
      margin: 0 auto;
      max-width: 480px;
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
      border-radius: 999px;
      padding: 0.4rem 0.9rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      font-size: 0.75rem;
      z-index: 40;
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 25px rgba(15,23,42,0.35);
      animation: floatUp 0.6s ease-out;
    }
    .step-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .step-label {
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 0.65rem;
      opacity: 0.8;
    }
    .step-text {
      font-size: 0.8rem;
      font-weight: 600;
    }
    .step-separator {
      opacity: 0.6;
      font-size: 0.9rem;
    }
    @media (min-width: 900px) {
      .step-guide {
        display: none;
      }
    }
    @keyframes floatUp {
      from {
        transform: translateY(12px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

  </style>
</head>
<body>
<div class="app">

  <!-- HEADER -->
  <div class="header">
    <div class="header-main">
      <h1>Passport Photo Sheet Generator</h1>
      <div style="margin-top:0.35rem; display:inline-flex; align-items:center; gap:0.4rem; font-size:0.8rem;">
        <span style="padding:0.15rem 0.55rem; border-radius:999px; border:1px solid rgba(37,99,235,0.3); color:#2563eb; background:rgba(219,234,254,0.6);">
          2-step ¬∑ 2-click process
        </span>
      </div>
      <p><strong>Create your passport photo in just two clicks.</strong><br>
        Create a printable 6√ó4 sheet with six US-style 2√ó2 passport photos directly in your browser.
        Your photo stays safely on your device &mdash; it is not sent to any server, stored online,
        or used for any other purpose.
      </p>
    </div>
    <div class="header-actions">
      <button id="themeToggle" class="toggle-btn" type="button">
        <span class="icon" id="themeIcon">üåô</span>
        <span id="themeLabel">Dark mode</span>
      </button>
      <small style="font-size:0.75rem; color:var(--text-muted); text-align:right;">
        Your photo will not be transferred to any server or saved anywhere online.
      </small>
    </div>
  </div>

  <div class="grid">
    <!-- LEFT: EDITOR -->
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">Step 1: Upload & Align</div>
        <div class="badge">Editor</div>
      </div>

      <input id="fileInput" type="file" accept="image/*" />

      <p class="hint" style="margin-top:0.75rem;">
        <strong>Recommendation:</strong> Use a high-resolution photo with a plain white background for best results.
        Zoom & drag the image. Align the <strong>top of your forehead</strong> with the upper thin bar,
        the <strong>bottom of your chin</strong> with the lower thin bar, and place the center of your face on the big plus.
      </p>

      <div style="margin-top:0.75rem;">
        <label style="font-size:0.85rem;">
          <input type="checkbox" id="bgToggle" />
          Clean background to white (simple color-based cleanup)
        </label>
      </div>

      <div class="zoom-row">
        <span>Zoom:</span>
        <input id="zoomRange" type="range" min="1" max="3" step="0.02" value="1" disabled />
      </div>

      <div style="margin-top:0.75rem; display:flex; justify-content:center;">
        <canvas id="previewCanvas" width="600" height="600"></canvas>
      </div>

      <div class="btn-row" style="margin-top:0.75rem;">
        <button id="resetBtn" class="btn btn-secondary" type="button" disabled>‚ü≥ Reset / Auto-fit</button>
      </div>
    </div>

    <!-- RIGHT: SHEET -->
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title">Step 2: Generate 6√ó4 Sheet</div>
        <div class="badge">Output</div>
      </div>

      <p class="hint">
        Automatically generates a 6√ó4 inch sheet at 300 DPI (1800√ó1200 px) with six 2√ó2 inch photos and thin black cutting borders.
        The sheet updates whenever you adjust your photo. Alignment guides are only for preview and are not included in the final sheet.
      </p>

      <div class="btn-row">
        <button id="downloadBtn" class="btn btn-secondary" type="button" disabled>‚¨áÔ∏è Download PNG</button>
      </div>

      <canvas id="sheetCanvas" width="1800" height="1200" style="margin-top:0.75rem;"></canvas>

      <div class="btn-row" style="margin-top:0.5rem;">
        <button id="deleteBtn" class="btn btn-secondary" type="button">üßπ Clear photo from tool</button>
      </div>
    </div>
  </div>

  <!-- Minimal How-to section (SEO but compact) -->
  <div class="howto">
    <h2>How to use this free US passport photo generator</h2>
    <ol>
      <li>Take a clear, high-resolution photo against a plain white background.</li>
      <li>Upload the photo, then zoom and drag to align your forehead and chin with the guide bars.</li>
      <li>Optionally clean the background to white and click <strong>Generate Sheet</strong>.</li>
      <li>Download the PNG file and print it on 6√ó4 inch photo paper at 100% / actual size.</li>
    </ol>

    <h2>How to print the 6√ó4 passport photo sheet</h2>
    <ol>
      <li>Select <strong>4√ó6 inch</strong> paper size in your printer settings.</li>
      <li>Turn off ‚ÄúFit to page‚Äù or scaling and use <strong>Actual size</strong>.</li>
      <li>Use photo paper and the highest quality print mode your printer supports.</li>
      <li>Cut along the thin borders to get six 2√ó2 inch photos.</li>
    </ol>
  </div>

  <div class="donate">
    If this tool helps you, consider <a href="https://www.buymeacoffee.com/helpingfriend" target="_blank" rel="noopener noreferrer">supporting the creator</a>.
  </div>


  <div class="step-guide">
    <div class="step-item">
      <span class="step-label">Step 1</span>
      <span class="step-text">Upload & Align</span>
    </div>
    <div class="step-separator">‚Ä∫</div>
    <div class="step-item">
      <span class="step-label">Step 2</span>
      <span class="step-text">Generate Sheet</span>
    </div>
  </div>

  <div class="disclaimer">
    <strong>Disclaimer:</strong> This tool is a personal utility created with the best effort to approximate
    U.S. passport photo guidelines, but there is <strong>no guarantee of accuracy, compliance, or acceptance</strong>
    by any government agency. Use this tool entirely at your own risk. For official purposes, it is strongly recommended
    to have your passport photo taken by a professional photographer or an authorized passport photo service.
    The creator makes <strong>no claims, recommendations, warranties, or assurances</strong> regarding fitness for
    any official or legal use.
  </div>

</div>

<script>
// Heavily packed / encoded script to make direct reuse harder.
// Note: Any code running in the browser can ultimately be copied with enough effort.
(function() {
  var _b64 = "CmNvbnN0IFcgPSA2MDAsIEggPSA2MDA7CmNvbnN0IFNIRUVUX1cgPSAxODAwLCBTSEVFVF9IID0gMTIwMDsKY29uc3QgVElMRSA9IDYwMDsKCi8vIE9mZnNjcmVlbiBiYXNlIGNhbnZhcyBXSVRIT1VUIG1hcmtlcnMgKHVzZWQgZm9yIHNoZWV0IGV4cG9ydCkKY29uc3QgYmFzZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwpiYXNlQ2FudmFzLndpZHRoID0gVzsKYmFzZUNhbnZhcy5oZWlnaHQgPSBIOwpjb25zdCBiY3R4ID0gYmFzZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwoKbGV0IGltZyA9IG5ldyBJbWFnZSgpOwpsZXQgbG9hZGVkID0gZmFsc2UsIHNjYWxlID0gMSwgb2ZmWCA9IDAsIG9mZlkgPSAwOwpsZXQgZHJhZ2dpbmcgPSBmYWxzZSwgbGFzdFggPSAwLCBsYXN0WSA9IDA7CmxldCBjbGVhbkJHID0gZmFsc2UsIGJnQ29sb3IgPSBudWxsOyAvLyBjaGVja2JveCBzdGFydHMgdW5jaGVja2VkCmxldCBsYXN0U2hlZXREYXRhVXJsID0gbnVsbDsKCmNvbnN0IEJHX1RPTEVSID0gODA7Cgpjb25zdCBmaWxlSW5wdXQgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVJbnB1dCcpOwpjb25zdCBwcmV2aWV3Q2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXdDYW52YXMnKTsKY29uc3QgcGN0eCAgICAgICAgICA9IHByZXZpZXdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKY29uc3Qgem9vbVJhbmdlICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tUmFuZ2UnKTsKY29uc3QgYmdUb2dnbGUgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ1RvZ2dsZScpOwpjb25zdCBkb3dubG9hZEJ0biAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkQnRuJyk7CmNvbnN0IHJlc2V0QnRuICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXRCdG4nKTsKY29uc3QgZGVsZXRlQnRuICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGVCdG4nKTsKY29uc3Qgc2hlZXRDYW52YXMgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGVldENhbnZhcycpOwpjb25zdCBzY3R4ICAgICAgICAgID0gc2hlZXRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKY29uc3QgdGhlbWVUb2dnbGUgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVtZVRvZ2dsZScpOwpjb25zdCB0aGVtZUljb24gICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lSWNvbicpOwpjb25zdCB0aGVtZUxhYmVsICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lTGFiZWwnKTsKCi8vIC0tLSBUaGVtZSAvIGRhcmstbW9kZSB0b2dnbGUgLS0tCmZ1bmN0aW9uIGFwcGx5VGhlbWVGcm9tU3RvcmFnZSgpIHsKICBjb25zdCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcHMtdGhlbWUnKTsKICBpZiAoc2F2ZWQgPT09ICdkYXJrJykgewogICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7CiAgICB0aGVtZUljb24udGV4dENvbnRlbnQgPSAn4piA77iPJzsKICAgIHRoZW1lTGFiZWwudGV4dENvbnRlbnQgPSAnTGlnaHQgbW9kZSc7CiAgfSBlbHNlIHsKICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpOwogICAgdGhlbWVJY29uLnRleHRDb250ZW50ID0gJ/CfjJknOwogICAgdGhlbWVMYWJlbC50ZXh0Q29udGVudCA9ICdEYXJrIG1vZGUnOwogIH0KfQoKdGhlbWVUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgY29uc3QgaXNEYXJrID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrJyk7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Bwcy10aGVtZScsIGlzRGFyayA/ICdkYXJrJyA6ICdsaWdodCcpOwogIGFwcGx5VGhlbWVGcm9tU3RvcmFnZSgpOwp9KTsKCmFwcGx5VGhlbWVGcm9tU3RvcmFnZSgpOwoKLy8gQmFja2dyb3VuZCB0b2dnbGUKYmdUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gewogIGNsZWFuQkcgPSBiZ1RvZ2dsZS5jaGVja2VkOwogIGJnQ29sb3IgPSBudWxsOwogIGRyYXcodHJ1ZSk7CiAgZ2VuZXJhdGVTaGVldCgpOwp9KTsKCi8vIEZpbGUgdXBsb2FkCmZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IHsKICBjb25zdCBmID0gZS50YXJnZXQuZmlsZXNbMF07CiAgaWYgKCFmKSByZXR1cm47CiAgY29uc3QgciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgci5vbmxvYWQgPSBldiA9PiB7CiAgICBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7CiAgICAgIGxvYWRlZCA9IHRydWU7CiAgICAgIGF1dG9GaXRJbWFnZSgpOwogICAgICBiZ0NvbG9yID0gbnVsbDsKICAgICAgcmVzZXRCdG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgZHJhdyh0cnVlKTsKICAgICAgZ2VuZXJhdGVTaGVldCgpOwogICAgfTsKICAgIGltZy5zcmMgPSBldi50YXJnZXQucmVzdWx0OwogIH07CiAgci5yZWFkQXNEYXRhVVJMKGYpOwp9KTsKCi8vIEF1dG8tZml0IC8gcmVzZXQgYWxpZ25tZW50CmZ1bmN0aW9uIGF1dG9GaXRJbWFnZSgpIHsKICBpZiAoIWxvYWRlZCkgcmV0dXJuOwogIGNvbnN0IHN4ID0gVyAvIGltZy53aWR0aDsKICBjb25zdCBzeSA9IEggLyBpbWcuaGVpZ2h0OwogIHNjYWxlID0gTWF0aC5tYXgoc3gsIHN5KTsKICB6b29tUmFuZ2UudmFsdWUgPSBzY2FsZTsKICB6b29tUmFuZ2UuZGlzYWJsZWQgPSBmYWxzZTsKICBjb25zdCBpdyA9IGltZy53aWR0aCAqIHNjYWxlOwogIGNvbnN0IGloID0gaW1nLmhlaWdodCAqIHNjYWxlOwogIG9mZlggPSAoVyAtIGl3KSAvIDI7CiAgb2ZmWSA9IChIIC0gaWgpIC8gMjsKfQoKLy8gWm9vbSBjb250cm9sCnpvb21SYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHsKICBpZiAoIWxvYWRlZCkgcmV0dXJuOwogIGNvbnN0IG5zID0gcGFyc2VGbG9hdCh6b29tUmFuZ2UudmFsdWUpOwogIGNvbnN0IGN4ID0gVyAvIDI7CiAgY29uc3QgY3kgPSBIIC8gMjsKICBjb25zdCBweCA9IChjeCAtIG9mZlgpIC8gc2NhbGU7CiAgY29uc3QgcHkgPSAoY3kgLSBvZmZZKSAvIHNjYWxlOwogIHNjYWxlID0gbnM7CiAgb2ZmWCA9IGN4IC0gcHggKiBzY2FsZTsKICBvZmZZID0gY3kgLSBweSAqIHNjYWxlOwogIGRyYXcoKTsKICBnZW5lcmF0ZVNoZWV0KCk7Cn0pOwoKLy8gRHJhZyB0byByZXBvc2l0aW9uCnByZXZpZXdDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZSA9PiB7CiAgaWYgKCFsb2FkZWQpIHJldHVybjsKICBkcmFnZ2luZyA9IHRydWU7CiAgbGFzdFggPSBlLm9mZnNldFg7CiAgbGFzdFkgPSBlLm9mZnNldFk7CiAgcHJldmlld0NhbnZhcy5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpOwp9KTsKCnByZXZpZXdDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZSA9PiB7CiAgaWYgKCFkcmFnZ2luZykgcmV0dXJuOwogIG9mZlggKz0gZS5vZmZzZXRYIC0gbGFzdFg7CiAgb2ZmWSArPSBlLm9mZnNldFkgLSBsYXN0WTsKICBsYXN0WCA9IGUub2Zmc2V0WDsKICBsYXN0WSA9IGUub2Zmc2V0WTsKICBkcmF3KCk7Cn0pOwoKZnVuY3Rpb24gZW5kRHJhZygpIHsKICBpZiAoIWRyYWdnaW5nKSByZXR1cm47CiAgZHJhZ2dpbmcgPSBmYWxzZTsKICBwcmV2aWV3Q2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7CiAgaWYgKGxvYWRlZCkgZ2VuZXJhdGVTaGVldCgpOwp9CgpwcmV2aWV3Q2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlbmREcmFnKTsKcHJldmlld0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZW5kRHJhZyk7CgovLyBSZXNldCAvIGF1dG8tZml0IGJ1dHRvbgpyZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICBpZiAoIWxvYWRlZCkgcmV0dXJuOwogIGF1dG9GaXRJbWFnZSgpOwogIGRyYXcodHJ1ZSk7CiAgZ2VuZXJhdGVTaGVldCgpOwp9KTsKCi8vIENvcmUgZHJhdzogcmVuZGVyIGludG8gYmFzZUNhbnZhcyAoZmFjZSArIG9wdGlvbmFsIEJHIGNsZWFuKSwgdGhlbiBjb3B5IHRvIHByZXZpZXcgYW5kIGRyYXcgZ3VpZGVzCmZ1bmN0aW9uIGRyYXcocmVjYWxjQkcgPSBmYWxzZSkgewogIC8vIDEuIERyYXcgaW50byBiYXNlIGNhbnZhcyAod2hhdCB3aWxsIGJlIGV4cG9ydGVkKQogIGJjdHguY2xlYXJSZWN0KDAsIDAsIFcsIEgpOwogIGJjdHguZmlsbFN0eWxlID0gJyNmZmZmZmYnOwogIGJjdHguZmlsbFJlY3QoMCwgMCwgVywgSCk7CgogIGlmIChsb2FkZWQpIHsKICAgIGxldCBpdyA9IGltZy53aWR0aCAqIHNjYWxlOwogICAgbGV0IGloID0gaW1nLmhlaWdodCAqIHNjYWxlOwoKICAgIGlmIChpdyA8PSBXKSBvZmZYID0gKFcgLSBpdykgLyAyOwogICAgZWxzZSBvZmZYID0gTWF0aC5taW4oMCwgTWF0aC5tYXgob2ZmWCwgVyAtIGl3KSk7CgogICAgaWYgKGloIDw9IEgpIG9mZlkgPSAoSCAtIGloKSAvIDI7CiAgICBlbHNlIG9mZlkgPSBNYXRoLm1pbigwLCBNYXRoLm1heChvZmZZLCBIIC0gaWgpKTsKCiAgICBiY3R4LmRyYXdJbWFnZShpbWcsIG9mZlgsIG9mZlksIGl3LCBpaCk7CgogICAgaWYgKGNsZWFuQkcpIHsKICAgICAgaWYgKHJlY2FsY0JHIHx8ICFiZ0NvbG9yKSBlc3RpbWF0ZUJHKCk7CiAgICAgIHdoaXRlbkJHKCk7CiAgICB9CiAgfQoKICAvLyAyLiBDb3B5IGJhc2UgY2FudmFzIHRvIHByZXZpZXcsIHRoZW4gb3ZlcmxheSBndWlkZXMgKHJlY3RhbmdsZXMgKyBjZW50ZXIgcGx1cykKICBwY3R4LmNsZWFyUmVjdCgwLCAwLCBXLCBIKTsKICBwY3R4LmRyYXdJbWFnZShiYXNlQ2FudmFzLCAwLCAwKTsKICBkcmF3R3VpZGVzKCk7Cn0KCi8vIEVzdGltYXRlIGJhY2tncm91bmQgY29sb3IgZnJvbSB0b3AgYmFuZCBvZiBCQVNFIGNhbnZhcwpmdW5jdGlvbiBlc3RpbWF0ZUJHKCkgewogIGNvbnN0IGlkID0gYmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgVywgSCk7CiAgY29uc3QgZCA9IGlkLmRhdGE7CiAgY29uc3QgdG9wID0gSCAqIDAuMjsKICBsZXQgcnMgPSAwLCBncyA9IDAsIGJzID0gMCwgYyA9IDA7CiAgZm9yIChsZXQgeSA9IDA7IHkgPCB0b3A7IHkrKykgewogICAgZm9yIChsZXQgeCA9IDA7IHggPCBXOyB4KyspIHsKICAgICAgY29uc3QgaSA9ICh5ICogVyArIHgpICogNDsKICAgICAgY29uc3QgciA9IGRbaV0sIGcgPSBkW2kgKyAxXSwgYiA9IGRbaSArIDJdOwogICAgICBpZiAoKHIgKyBnICsgYikgLyAzIDwgMTIwKSBjb250aW51ZTsKICAgICAgcnMgKz0gcjsgZ3MgKz0gZzsgYnMgKz0gYjsgYysrOwogICAgfQogIH0KICBpZiAoYyA+IDApIGJnQ29sb3IgPSB7IHI6IHJzIC8gYywgZzogZ3MgLyBjLCBiOiBicyAvIGMgfTsKICBlbHNlIGJnQ29sb3IgPSBudWxsOwp9CgovLyBXaGl0ZW4gYmFja2dyb3VuZCBvbiBCQVNFIGNhbnZhcyBvbmx5CmZ1bmN0aW9uIHdoaXRlbkJHKCkgewogIGlmICghYmdDb2xvcikgcmV0dXJuOwogIGNvbnN0IGlkID0gYmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgVywgSCk7CiAgY29uc3QgZCA9IGlkLmRhdGE7CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSArPSA0KSB7CiAgICBjb25zdCByID0gZFtpXSwgZyA9IGRbaSArIDFdLCBiID0gZFtpICsgMl07CiAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMociAtIGJnQ29sb3IucikgKyBNYXRoLmFicyhnIC0gYmdDb2xvci5nKSArIE1hdGguYWJzKGIgLSBiZ0NvbG9yLmIpOwogICAgaWYgKGRpZmYgPCBCR19UT0xFUikgewogICAgICBkW2ldID0gZFtpICsgMV0gPSBkW2kgKyAyXSA9IDI1NTsKICAgIH0KICB9CiAgYmN0eC5wdXRJbWFnZURhdGEoaWQsIDAsIDApOwp9CgovLyBEcmF3IGZvcmVoZWFkIGFuZCBjaGluIHJlY3RhbmdsZXMgKHRoaW5uZXIpICsgYmlnIGNlbnRlciBwbHVzIG9uIHByZXZpZXcgb25seQpmdW5jdGlvbiBkcmF3R3VpZGVzKCkgewogIGNvbnN0IGN4ID0gVyAvIDI7CiAgY29uc3QgY3kgPSBIIC8gMjsKCiAgLy8gVGhpbm5lciByZWN0YW5nbGVzCiAgY29uc3QgYm94V2lkdGggPSAyNjA7CiAgY29uc3QgYm94SGVpZ2h0ID0gMjI7CgogIGNvbnN0IGZvcmVoZWFkVG9wID0gY3kgLSAyMjA7CiAgY29uc3QgZm9yZWhlYWRMZWZ0ID0gY3ggLSBib3hXaWR0aCAvIDI7CgogIGNvbnN0IGNoaW5Ub3AgPSBjeSArIDEzMDsKICBjb25zdCBjaGluTGVmdCA9IGZvcmVoZWFkTGVmdDsKCiAgcGN0eC5zYXZlKCk7CiAgcGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDM3LDk5LDIzNSwwLjk1KSc7CiAgcGN0eC5saW5lV2lkdGggPSAyOwogIHBjdHguc2V0TGluZURhc2goWzYsIDRdKTsKCiAgLy8gRm9yZWhlYWQgcmVjdGFuZ2xlICh0aGluIHN0cmlwKQogIHBjdHguc3Ryb2tlUmVjdChmb3JlaGVhZExlZnQsIGZvcmVoZWFkVG9wLCBib3hXaWR0aCwgYm94SGVpZ2h0KTsKCiAgLy8gQ2hpbiByZWN0YW5nbGUgKHRoaW4gc3RyaXApCiAgcGN0eC5zdHJva2VSZWN0KGNoaW5MZWZ0LCBjaGluVG9wLCBib3hXaWR0aCwgYm94SGVpZ2h0KTsKCiAgcGN0eC5zZXRMaW5lRGFzaChbXSk7CgogIC8vIExhYmVscyAodXBkYXRlZCB3b3JkaW5nKQogIHBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMzcsOTksMjM1LDAuOTUpJzsKICBwY3R4LmZvbnQgPSAiMTFweCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgc2Fucy1zZXJpZiI7CiAgcGN0eC5maWxsVGV4dCgiQWxpZ24gdG9wIG9mIGZvcmVoZWFkIiwgZm9yZWhlYWRMZWZ0ICsgNCwgZm9yZWhlYWRUb3AgLSA2KTsKICBwY3R4LmZpbGxUZXh0KCJBbGlnbiBib3R0b20gb2YgeW91ciBjaGluIiwgY2hpbkxlZnQgKyA0LCBjaGluVG9wICsgYm94SGVpZ2h0ICsgMTQpOwoKICAvLyBCaWcgY2VudGVyIHBsdXMgKCspCiAgY29uc3QgcGx1c1NpemUgPSAzMDsKICBwY3R4LmxpbmVXaWR0aCA9IDI7CiAgcGN0eC5iZWdpblBhdGgoKTsKICBwY3R4Lm1vdmVUbyhjeCAtIHBsdXNTaXplLCBjeSk7CiAgcGN0eC5saW5lVG8oY3ggKyBwbHVzU2l6ZSwgY3kpOwogIHBjdHgubW92ZVRvKGN4LCBjeSAtIHBsdXNTaXplKTsKICBwY3R4LmxpbmVUbyhjeCwgY3kgKyBwbHVzU2l6ZSk7CiAgcGN0eC5zdHJva2UoKTsKCiAgcGN0eC5yZXN0b3JlKCk7Cn0KCi8vIEdlbmVyYXRlIDbDlzQgc2hlZXQgZnJvbSBjdXJyZW50IGJhc2VDYW52YXMKZnVuY3Rpb24gZ2VuZXJhdGVTaGVldCgpIHsKICBpZiAoIWxvYWRlZCkgcmV0dXJuOwoKICBzY3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJzsKICBzY3R4LmZpbGxSZWN0KDAsIDAsIFNIRUVUX1csIFNIRUVUX0gpOwoKICBmb3IgKGxldCByID0gMDsgciA8IDI7IHIrKykgewogICAgZm9yIChsZXQgYyA9IDA7IGMgPCAzOyBjKyspIHsKICAgICAgY29uc3QgeCA9IGMgKiBUSUxFOwogICAgICBjb25zdCB5ID0gciAqIFRJTEU7CiAgICAgIHNjdHguZHJhd0ltYWdlKGJhc2VDYW52YXMsIDAsIDAsIFRJTEUsIFRJTEUsIHgsIHksIFRJTEUsIFRJTEUpOwogICAgICBzY3R4LnN0cm9rZVN0eWxlID0gJyMwMDAwMDAnOwogICAgICBzY3R4LmxpbmVXaWR0aCA9IDE7CiAgICAgIHNjdHguc3Ryb2tlUmVjdCh4ICsgMC41LCB5ICsgMC41LCBUSUxFIC0gMSwgVElMRSAtIDEpOwogICAgfQogIH0KCiAgbGFzdFNoZWV0RGF0YVVybCA9IHNoZWV0Q2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7CiAgZG93bmxvYWRCdG4uZGlzYWJsZWQgPSBmYWxzZTsKfQoKLy8gRG93bmxvYWQgUE5HCmRvd25sb2FkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogIGlmICghbGFzdFNoZWV0RGF0YVVybCkgcmV0dXJuOwogIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgYS5ocmVmID0gbGFzdFNoZWV0RGF0YVVybDsKICBhLmRvd25sb2FkID0gJ3Bhc3Nwb3J0X3NoZWV0LnBuZyc7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICBhLmNsaWNrKCk7CiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTsKfSk7CgovLyBDbGVhciBwaG90byBmcm9tIHRvb2wgKHNvZnQgcmVzZXQpCmRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICBpbWcgPSBuZXcgSW1hZ2UoKTsKICBsb2FkZWQgPSBmYWxzZTsKICBzY2FsZSA9IDE7CiAgb2ZmWCA9IDA7CiAgb2ZmWSA9IDA7CiAgZHJhZ2dpbmcgPSBmYWxzZTsKICBsYXN0WCA9IDA7CiAgbGFzdFkgPSAwOwogIGNsZWFuQkcgPSBmYWxzZTsKICBiZ0NvbG9yID0gbnVsbDsKICBsYXN0U2hlZXREYXRhVXJsID0gbnVsbDsKICBiZ1RvZ2dsZS5jaGVja2VkID0gZmFsc2U7CiAgem9vbVJhbmdlLnZhbHVlID0gMTsKICB6b29tUmFuZ2UuZGlzYWJsZWQgPSB0cnVlOwogIGZpbGVJbnB1dC52YWx1ZSA9ICIiOwogIHJlc2V0QnRuLmRpc2FibGVkID0gdHJ1ZTsKICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IHRydWU7CgogIGJjdHguY2xlYXJSZWN0KDAsIDAsIFcsIEgpOwogIHBjdHguY2xlYXJSZWN0KDAsIDAsIFcsIEgpOwogIHNjdHguY2xlYXJSZWN0KDAsIDAsIFNIRUVUX1csIFNIRUVUX0gpOwoKICBkcmF3KCk7IC8vIHJlZHJhdyBibGFuayBwcmV2aWV3IHdpdGggZ3VpZGVzCn0pOwoKLy8gSW5pdGlhbCBibGFuayByZW5kZXIgKGp1c3QgZ3VpZGVzIG9uIHdoaXRlKQpkcmF3KCk7Cg==";
  try {
    var decoded = atob(_b64);
    (0, eval)(decoded);
  } catch (e) {
    console.error("Script failed to load.", e);
  }
})();
</script>

</body>
</html>
